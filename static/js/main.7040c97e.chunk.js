(this["webpackJsonppodcast-block"]=this["webpackJsonppodcast-block"]||[]).push([[0],{314:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_mac_Documents_workspace_block_chain_podcast_block_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(22),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),antd__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(199),antd__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(94),antd__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(56),TextArea=antd__WEBPACK_IMPORTED_MODULE_2__.a.TextArea;function handleGetContractMethod(web3,account,JSONInterface,contractAddress,contractCall,setContractValue){try{var contract=new web3.eth.Contract(JSON.parse(JSONInterface),contractAddress);eval("contract.methods['".concat(contractCall.valueOf(),"']().call({\n      from: account.address\n    })")).then((function(e){return setContractValue(e)}))}catch(err){console.log(err)}}function handleCustomMethod(web3,account,JSONInterface,contractAddress,customCall){try{var contract=new web3.eth.Contract(JSON.parse(JSONInterface),contractAddress);eval("contract.methods['".concat(customCall.valueOf(),"']('0x12355').send({\n      from: account.address\n    })")).then((function(e){return console.log(e)}))}catch(err){console.log(err)}}function handleGetContractMethods(e,t,a,n){try{var r=new e.eth.Contract(JSON.parse(t),a);console.log(r),n(r.methods)}catch(c){console.log(c)}}function List(e){var t=e.web3,a=e.account,n=react__WEBPACK_IMPORTED_MODULE_1___default.a.useState(""),r=Object(_Users_mac_Documents_workspace_block_chain_podcast_block_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(n,2),c=r[0],l=r[1],o=react__WEBPACK_IMPORTED_MODULE_1___default.a.useState(""),_=Object(_Users_mac_Documents_workspace_block_chain_podcast_block_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(o,2),u=_[0],s=_[1],i=react__WEBPACK_IMPORTED_MODULE_1___default.a.useState([]),m=Object(_Users_mac_Documents_workspace_block_chain_podcast_block_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(i,2),E=m[0],d=m[1],p=react__WEBPACK_IMPORTED_MODULE_1___default.a.useState(""),f=Object(_Users_mac_Documents_workspace_block_chain_podcast_block_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(p,2),b=f[0],O=f[1],h=react__WEBPACK_IMPORTED_MODULE_1___default.a.useState(""),g=Object(_Users_mac_Documents_workspace_block_chain_podcast_block_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(h,2),P=g[0],M=g[1];return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h2",null,"\u67e5\u770b\u667a\u80fd\u5408\u7d04"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_3__.a,{layout:"vertical"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_3__.a.Item,{extra:"\u5408\u7d04\u4ecb\u9762\uff08JSONInterface\uff09"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(TextArea,{value:c,onChange:function(e){return l(e.target.value)},autoSize:!0,rows:4})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_3__.a.Item,{extra:"\u8f38\u5165\u8981\u67e5\u770b\u7684\u5408\u7d04\u5730\u5740"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_2__.a,{value:u,onChange:function(e){return s(e.target.value)}})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_3__.a.Item,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_4__.a,{type:"primary",onClick:function(){return handleGetContractMethods(t,c,u,d)}},"\u67e5\u8a62")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h3",null,"\u5408\u7d04\u53ef\u547c\u53eb\u65b9\u6cd5"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_3__.a.Item,null,Object.keys(E).filter((function(e){return e.indexOf("()")>=0})).map((function(e){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:function(){return handleGetContractMethod(t,a,c,u,e,O)},key:e},"\u57f7\u884c ",e)}))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h3",null,"\u81ea\u8a02\u547c\u53eb\u65b9\u6cd5"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_3__.a.Item,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_2__.a,{value:P,onChange:function(e){return M(e.target.value)}}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_4__.a,{onClick:function(){return handleCustomMethod(t,a,c,u,P,O)},key:P},"\u57f7\u884c\u81ea\u8a02\u65b9\u6cd5")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h3",{style:{textAlign:"center"}},"\u904b\u884c\u7d50\u679c"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(TextArea,{value:b,autoSize:!0})))}__webpack_exports__.a=List},317:function(e,t,a){e.exports=a(705)},323:function(e,t,a){},336:function(e,t){},357:function(e,t){},359:function(e,t){},424:function(e,t){},471:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=471},705:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),l=a.n(c),o=a(35),_=(a(322),a(323),a(53)),u=a.n(_),s=a(110),i=a(22),m=a(66),E=a(296),d=a.n(E),p=a(708),f=a(93),b=a(710),O=a(706),h=a(707),g=a(303),P=b.a.Title,M=b.a.Paragraph;var k=function(){return r.a.createElement(O.a,null,r.a.createElement(h.a,{span:8}),r.a.createElement(h.a,{span:8},r.a.createElement(b.a,null,r.a.createElement(P,null,"Podcast Contract Block"),r.a.createElement(M,null,"Podcast Contract Block \u662f\u4e00\u500b\u958b\u653e\u5b78\u7fd2\u5c08\u6848\uff0c\u74b0\u7e5e\u300c\u4ee5\u592a\u574a\u300d\u800c\u6210\uff0c\u6b64\u5c08\u6848\u4e0d\u6703\u7d00\u9304\u4efb\u4f55\u500b\u4eba\u8cc7\u8a0a\uff0c\u6b61\u8fce\u4e00\u8d77\u5b78\u7fd2\u4f7f\u7528\u3002"),r.a.createElement(M,null,"\u6b64\u5c08\u6848\u9700\u8981\u548c MetaTask \u63d2\u4ef6\u5408\u4f5c\uff0c\u5982\u679c\u60a8\u5c1a\u672a\u5b89\u88dd\uff0c\u8acb",r.a.createElement("a",{href:"https://metamask.io/"},"\u81f3\u6b64\u5b89\u88dd\u63d2\u4ef6"),"\u3002")),"\u6388\u6b0a\u8acb\u6c42\u7b49\u5f85\u4e2d ",r.a.createElement(g.a,null),r.a.createElement("hr",null),r.a.createElement("h2",null,"\u70ba\u4ec0\u9ebc\u6c92\u6709\u6536\u5230\u4efb\u4f55\u7d50\u679c\uff1f"),r.a.createElement("p",null,"\u56e0\u70ba MetaMask \u653f\u7b56\u95dc\u4fc2\uff0c\u73fe\u5728\u6539\u70ba\u7531\u6388\u6b0a\u9a57\u8b49\u767b\u5165\uff0c\u5982\u679c\u60a8\u7121\u6cd5\u4f7f\u7528\u6216\u5c1a\u672a\u770b\u5230\u6388\u6b0a\u8996\u7a97\uff0c\u8acb\u6aa2\u67e5\u60a8\u7684 MetaMask \u662f\u5426\u555f\u52d5\u3002")),r.a.createElement(h.a,{span:8}))},y=a(711);var D=function(e){var t,a=e.account,n=e.netWork;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{style:{margin:"16px 0"}},r.a.createElement(y.a.Item,null,"\u5e33\u6236\u8cc7\u8a0a")),r.a.createElement("div",{style:{background:"#fff",padding:24,minHeight:380}},r.a.createElement("div",null,"\u7248\u672c\uff1a",n.protocolVersion),r.a.createElement("div",null,"\u7db2\u8def\uff1a",1===(t=n.id)?"\u4ee5\u592a\u574a\u4e3b\u7db2\u8def":3===t?"Ropsten \u6e2c\u8a66\u7db2\u8def":42===t?"Kovan \u6e2c\u8a66\u7db2\u8def":4===t?"Rinkeby \u6e2c\u8a66\u7db2\u8def":""),r.a.createElement("div",null,"\u76ee\u524d GasPrice \u8cbb\u7528\uff1a",a.gasPrice," ether"),r.a.createElement("div",null,"\u76ee\u524d\u5340\u584a\uff1a",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://ropsten.etherscan.io/block/".concat(n.blockNumber)},n.blockNumber)),r.a.createElement("div",null,"\u9322\u5305\u5730\u5740\uff1a",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://ropsten.etherscan.io/address/".concat(a.address)},a.address)),r.a.createElement("div",null,"\u4e59\u592a\u5e63\uff1a",a.balance," \u9846"),r.a.createElement("div",null,"\u6316\u7926\u72c0\u614b\uff1a",a.isMining?"\u555f\u52d5":"\u505c\u6b62")))},C=a(143),v=a(7),w=a(94),I=a(199),T=a(56),A=a(709);function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach((function(t){Object(C.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var B=[{title:"",dataIndex:"status",key:"status"},{title:"\u4ea4\u6613\u96dc\u6e4a\u503c",dataIndex:"blockHash",key:"blockHash"},{title:"\u5340\u584a\u7de8\u865f",dataIndex:"blockNumber",key:"blockNumber"},{title:"\u4ed8\u51fa\u4ee5\u592a\u5e63\u5730\u5740",dataIndex:"from",key:"from"},{title:"\u6536\u5165\u4ee5\u592a\u5e63\u5730\u5740",dataIndex:"to",key:"to"},{title:"\u4ee5\u592a\u5e63\u984d",dataIndex:"value",key:"value"},{title:"\u5167\u5bb9",dataIndex:"input",key:"input"}];var U=function(e){var t=e.web3,a=e.account,n=r.a.useState(a.address),c=Object(i.a)(n,1)[0],l=r.a.useState(""),_=Object(i.a)(l,2),E=_[0],d=_[1],p=r.a.useState("1000000000000000000"),f=Object(i.a)(p,2),b=f[0],O=f[1],h=r.a.useState({limit:"21000",price:a.gasPrice}),P=Object(i.a)(h,2),M=P[0],k=P[1],D=r.a.useState(""),C=Object(i.a)(D,2),x=C[0],U=C[1],W=r.a.useState([]),R=Object(i.a)(W,2),L=R[0],K=R[1],j=function(){t.eth.sendTransaction({from:c,to:E,value:b,gas:M.limit,gasPrice:M.price}).on("transactionHash",(function(e){window.localStorage.getItem("PCB-blocks")?window.localStorage.setItem("PCB-blocks",JSON.stringify(JSON.parse(window.localStorage.getItem("PCB-blocks")).concat(e))):window.localStorage.setItem("PCB-blocks",JSON.stringify([e]))})).on("receipt",(function(e){console.log(e)})).on("confirmation",(function(e,t){})).on("error",console.error)};return r.a.useEffect((function(){if(window.localStorage.getItem("PCB-blocks")&&"/transaction/blocks"===window.location.pathname){var e=JSON.parse(window.localStorage.getItem("PCB-blocks")).map(function(){var e=Object(s.a)(u.a.mark((function e(a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.eth.getTransaction(a);case 2:return n=e.sent,e.next=5,t.eth.getTransactionReceipt(a);case 5:return r=e.sent,e.abrupt("return",{block:n,receipt:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());Promise.all(e).then((function(e){var t=e.map((function(e){return S({},e.block,{key:e.block.blockNumber||Math.random,blockHash:e.block.blockHash?r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://ropsten.etherscan.io/tx/".concat(e.block.hash)},e.block.hash.substring(0,15)+"..."):"0x",from:e.block.from.substring(0,15)+"...",to:e.block.to.substring(0,15)+"...",value:e.block.value/1e18,status:e.receipt?e.receipt.status?r.a.createElement(v.a,{type:"check-circle",theme:"twoTone",twoToneColor:"#52c41a"}):r.a.createElement(v.a,{type:"close-circle",theme:"twoTone",twoToneColor:"#52c41a"}):r.a.createElement(g.a,null)})}));K(t)}))}}),[window.location.pathname]),r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{style:{margin:"16px 0"}},r.a.createElement(y.a.Item,null,"\u4ea4\u6613\u7ba1\u7406")),r.a.createElement("div",null,"\uff5c",r.a.createElement(o.b,{to:"/transaction/operator"},"\u4ea4\u6613\u529f\u80fd"),"\uff5c",r.a.createElement(o.b,{to:"/transaction/blocks"},"\u67e5\u770b\u4ea4\u6613\u5340\u584a"),"\uff5c"),r.a.createElement("br",null),r.a.createElement("div",{style:{background:"#fff",padding:24,minHeight:380}},r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/transaction/operator",render:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"\u767c\u9001\u4ee5\u592a\u5e63"),r.a.createElement(w.a,{layout:"vertical"},r.a.createElement(w.a.Item,{extra:"\u9810\u8a2d\u70ba\u60a8\u539f\u6709\u5be9\u6838\u5e33\u6236"},r.a.createElement(I.a,{prefix:r.a.createElement(v.a,{type:"wallet",style:{color:"rgba(0,0,0,.25)"}}),type:"text",value:c,placeholder:c})),r.a.createElement(w.a.Item,null,r.a.createElement(I.a,{prefix:r.a.createElement(v.a,{type:"wallet",style:{color:"rgba(0,0,0,.25)"}}),type:"text",value:E,placeholder:"\u767c\u9001\u81f3",onChange:function(e){return d(e.target.value)}})),r.a.createElement(w.a.Item,{extra:"ETH \u6700\u5c0f\u55ae\u4f4d\u70ba wei (1:1000000000000000000)\uff0c\u76ee\u524d\u63db\u7b97\u70ba\u6578\u91cf ".concat(b/1e18," ETH")},r.a.createElement(I.a,{prefix:r.a.createElement(v.a,{type:"wallet",style:{color:"rgba(0,0,0,.25)"}}),type:"text",value:b,placeholder:"\u4ea4\u6613\u6578\u91cf(wei)",onChange:function(e){return O(e.target.value)}})),r.a.createElement(w.a.Item,{extra:"\u71c3\u6599\u9650\u5236\uff0c\u4f9d\u7167\u6700\u4f4e\u4ea4\u6613\u6a19\u6e96 ".concat(1e9*t.utils.fromWei(M.limit,"ether")," ETH")},r.a.createElement(I.a,{prefix:r.a.createElement(v.a,{type:"wallet",style:{color:"rgba(0,0,0,.25)"}}),type:"text",value:M.limit,placeholder:"\u71c3\u6599\u9650\u5236",onChange:function(e){return k(S({},M,{limit:e.target.value}))}})),r.a.createElement(w.a.Item,{extra:"\u71c3\u6599\u8cbb\u7528\uff0c\u76ee\u524d\u5e73\u5747\u8cbb\u7528 ".concat(t.utils.fromWei(M.price,"ether")," ETH\uff0c\u55ae\u4f4d\u8cbb\u7528\u8d8a\u9ad8\uff0c\u8d8a\u5bb9\u6613\u88ab\u7926\u5de5\u57f7\u884c\u9a57\u8b49")},r.a.createElement(I.a,{prefix:r.a.createElement(v.a,{type:"wallet",style:{color:"rgba(0,0,0,.25)"}}),type:"text",value:M.price,placeholder:"\u71c3\u6599\u8cbb\u7528",onChange:function(e){return k(S({},M,{price:e.target.value}))}})),r.a.createElement(w.a.Item,null,r.a.createElement("div",null,"\u6700\u9ad8\u624b\u7e8c\u8cbb\uff1a",M.limit*M.price/1e18," ETH (\u71c3\u6599\u9650\u5236 * \u71c3\u6599\u8cbb\u7528)"),r.a.createElement("div",null,"\u6700\u9ad8\u7e3d\u82b1\u8cbb\uff1a",M.limit*M.price/1e18+b/1e18," ETH (\u767c\u9001 + \u624b\u7e8c\u8cbb)")),r.a.createElement(w.a.Item,null,r.a.createElement(T.a,{onClick:j,type:"primary",htmlType:"submit"},"\u78ba\u8a8d\u767c\u9001"))))}}),r.a.createElement(m.a,{path:"/transaction/blocks",render:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"\u67e5\u770b\u4ea4\u6613\u5340\u584a"),r.a.createElement(w.a,{layout:"horizontal"},r.a.createElement(w.a.Item,null,r.a.createElement(I.a,{prefix:r.a.createElement(v.a,{type:"block",style:{color:"rgba(0,0,0,.25)"}}),type:"text",value:x,placeholder:"\u81ea\u884c\u6dfb\u52a0\u4ea4\u6613\u5340\u584a",onChange:function(e){return U(e.target.value)}}),r.a.createElement(T.a,{onClick:function(){var e=Object(s.a)(u.a.mark((function e(a){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.eth.getTransaction(x);case 2:return n=e.sent,e.next=5,t.eth.getTransactionReceipt(x);case 5:c=e.sent,n&&K(L.concat(S({key:n.blockNumber},n,{blockHash:x.substring(0,15)+"...",from:n.from.substring(0,15)+"...",to:n.to.substring(0,15)+"...",value:n.value/1e18,status:c.status?r.a.createElement(v.a,{type:"check-circle",theme:"twoTone",twoToneColor:"#52c41a"}):r.a.createElement(v.a,{type:"close-circle",theme:"twoTone",twoToneColor:"#52c41a"})})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"\u6dfb\u52a0\u4ea4\u6613\u5340\u584a"))),r.a.createElement(A.a,{columns:B,dataSource:L}))}}))))},W=a(312),R=a(313);a(700),a(702),a(703),a(704);function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var K,j=I.a.TextArea,N=I.a.Group,J=W(window.Module),H="pragma solidity ^0.5.11;\n\ncontract MyContract {\n    function myFunction() public pure returns (string memory) {\n        return 'Hello World!';\n    }\n}";function F(e,t,a,n,r,c,l){K&&clearTimeout(K),K=setTimeout((function(){var o={language:"Solidity",sources:{"contract.sol":{content:e}},settings:{outputSelection:{"*":{"*":["*"]}}}},_=JSON.parse(J.compile(JSON.stringify(o)));if(_.errors){var u=_.errors[0];r(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach((function(t){Object(C.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},u))}else{for(var s in _.contracts["contract.sol"]){var i=JSON.stringify(_.contracts["contract.sol"][s].abi,null,4),m=_.contracts["contract.sol"][s].evm.bytecode.object;n(i),c(i),a(m),l(m)}t(!1)}}),500)}var z=function(e){var t=e.setJSONInterface,a=e.setContractData,n=r.a.useState(H),c=Object(i.a)(n,2),l=c[0],o=c[1],_=r.a.useState(""),u=Object(i.a)(_,2),s=u[0],m=u[1],E=r.a.useState(!1),d=Object(i.a)(E,2),p=d[0],f=d[1],b=r.a.useState(""),g=Object(i.a)(b,2),P=g[0],M=g[1],k=r.a.useState({message:"",formattedMessage:"",sourcelocation:{end:0,file:"",start:0},type:""}),y=Object(i.a)(k,2),D=y[0],C=y[1];return""!==D.message&&console.log(D),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{style:{textAlign:"center"}},"SolidityCode"),r.a.createElement(R.UnControlled,{value:H,options:{mode:"text/x-solidity",theme:"material",lineNumbers:!0},onChange:function(e){return o(e.getValue())}}),r.a.createElement("div",null,r.a.createElement(T.a,{type:"primary",loading:p,onClick:function(){f(!0),F(l,f,m,M,C,t,a)}},"\u7de8\u8b6f")),r.a.createElement(N,{size:"large"},r.a.createElement(O.a,null,r.a.createElement(h.a,{span:12},r.a.createElement("h3",{style:{textAlign:"center"}},"ByteCode"),r.a.createElement(j,{value:s,autoSize:!0,rows:4})),r.a.createElement(h.a,{span:12},r.a.createElement("h3",{style:{textAlign:"center"}},"JSONInterface"),r.a.createElement(j,{value:P,autoSize:!0,rows:4})))))},V=I.a.TextArea;var q=function(e){var t=e.web3,a=e.account,n=e.JSONInterface,c=e.contractData;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"\u90e8\u7f72\u667a\u80fd\u5408\u7d04"),r.a.createElement("div",null,"\u90e8\u7f72\u8005\uff1a",a.address),r.a.createElement("div",null,"\u652f\u4ed8\u71c3\u6599\u8cbb\u7528\uff1a0.00047 ETH"),r.a.createElement("div",null,"\u5408\u7d04\u4ecb\u9762\uff08JSONInterface\uff09",r.a.createElement(V,{value:n,autoSize:!0,rows:4})),r.a.createElement("div",null,"\u5408\u7d04\u57f7\u884c\u5167\u5bb9\uff08data\uff09",r.a.createElement(V,{value:c,autoSize:!0,rows:4})),r.a.createElement(T.a,{type:"danger",onClick:function(){return function(e,t,a,n){new e.eth.Contract([JSON.parse(a)]).deploy({data:n}).send({from:t,gas:15e5},(function(e,t){console.log(e)})).on("error",(function(e){})).on("transactionHash",(function(e){})).on("receipt",(function(e){console.log(e.contractAddress)})).on("confirmation",(function(e,t){})).then((function(e){console.log(e.options.address)}))}(t,a.address,n,c)}},"\u90e8\u7f72\u5408\u7d04"))},G=a(314);var Q,X=function(e){var t=e.web3,a=e.account,n=r.a.useState(""),c=Object(i.a)(n,2),l=c[0],_=c[1],u=r.a.useState(""),s=Object(i.a)(u,2),E=s[0],d=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{style:{margin:"16px 0"}},r.a.createElement(y.a.Item,null,"\u667a\u80fd\u5408\u7d04")),r.a.createElement("div",null,"\uff5c",r.a.createElement(o.b,{to:"/contract/list"},"\u67e5\u770b\u667a\u80fd\u5408\u7d04"),"\uff5c",r.a.createElement(o.b,{to:"/contract/create"},"\u5efa\u7acb\u667a\u80fd\u5408\u7d04"),"\uff5c",r.a.createElement(o.b,{to:"/contract/tool"},"\u667a\u80fd\u5408\u7d04\u5de5\u5177"),"\uff5c"),r.a.createElement("br",null),r.a.createElement("div",{style:{background:"#fff",padding:24,minHeight:380}},r.a.createElement(m.a,{path:"/contract/list",render:function(){return r.a.createElement(G.a,{web3:t,account:a})}}),r.a.createElement(m.a,{path:"/contract/create",render:function(){return r.a.createElement(q,{web3:t,account:a,JSONInterface:l,contractData:E})}}),r.a.createElement(m.a,{path:"/contract/tool",render:function(){return r.a.createElement(z,{web3:t,account:a,setJSONInterface:_,setContractData:d})}})))},Y=p.a.Header,Z=p.a.Content,$=p.a.Footer;var ee=function(){var e=r.a.useState({address:"",balance:0,isValid:!1,isMining:!1,gasPrice:"0"}),t=Object(i.a)(e,2),a=t[0],n=t[1],c=r.a.useState({id:"",protocolVersion:0,blockNumber:"0x0"}),l=Object(i.a)(c,2),_=l[0],E=l[1],b=r.a.useState({pathname:window.location.pathname}),O=Object(i.a)(b,2),h=O[0],g=O[1];return r.a.useEffect((function(){if(window.ethereum){Q=new d.a(window.ethereum);try{window.ethereum.enable().then(function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0)){e.next=32;break}return e.t0=n,e.t1=Math,e.t2=Q.utils,e.next=6,Q.eth.getBalance(t[0]);case 6:return e.t3=e.sent,e.t4=e.t2.fromWei.call(e.t2,e.t3,"ether"),e.t5=1e3*e.t4,e.t6=e.t1.round.call(e.t1,e.t5),e.t7=e.t6/1e3,e.next=13,Q.eth.isMining();case 13:return e.t8=e.sent,e.next=16,Q.eth.getGasPrice();case 16:return e.t9=e.sent,e.t10=t[0],e.t11={balance:e.t7,isValid:!0,isMining:e.t8,gasPrice:e.t9,address:e.t10},(0,e.t0)(e.t11),e.t12=E,e.next=23,Q.eth.net.getId();case 23:return e.t13=e.sent,e.next=26,Q.eth.getProtocolVersion();case 26:return e.t14=e.sent,e.next=29,Q.eth.getBlockNumber();case 29:e.t15=e.sent,e.t16={id:e.t13,protocolVersion:e.t14,blockNumber:e.t15},(0,e.t12)(e.t16);case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(e){console.log(e)}}}),[]),a.isValid?r.a.createElement(p.a,null,r.a.createElement(Y,{style:{position:"fixed",zIndex:1,width:"100%"}},r.a.createElement(o.b,{onClick:function(){return g("/")},to:"/"},r.a.createElement("div",{className:"logo"},"Podcast Contract Block")),r.a.createElement(f.a,{theme:"dark",mode:"horizontal",selectedKeys:[h],style:{lineHeight:"64px"}},r.a.createElement(f.a.Item,{onClick:function(){return g("/account")},key:"/account",active:!1},r.a.createElement(o.b,{to:"/account"},"\u5e33\u6236\u8cc7\u8a0a")),r.a.createElement(f.a.Item,{onClick:function(){return g("/transaction")},key:"/transaction"},r.a.createElement(o.b,{to:"/transaction"},"\u4ea4\u6613\u7ba1\u7406")),r.a.createElement(f.a.Item,{onClick:function(){return g("/contract")},key:"/contract"},r.a.createElement(o.b,{to:"/contract"},"\u667a\u80fd\u5408\u7d04")))),r.a.createElement(Z,{style:{padding:"0 50px",marginTop:64}},r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/account",exact:!0,render:function(){return r.a.createElement(D,{account:a,netWork:_})}}),r.a.createElement(m.a,{path:"/transaction",render:function(){return r.a.createElement(U,{web3:Q,account:a})}}),r.a.createElement(m.a,{path:"/contract",render:function(){return r.a.createElement(X,{web3:Q,account:a})}}))),r.a.createElement($,{style:{textAlign:"center"}},"Made by \u61f7\u6069")):r.a.createElement(k,{account:a,setAccount:n})};l.a.render(r.a.createElement(o.a,null,r.a.createElement(ee,null)),document.getElementById("root"))}},[[317,1,2]]]);
//# sourceMappingURL=main.7040c97e.chunk.js.map